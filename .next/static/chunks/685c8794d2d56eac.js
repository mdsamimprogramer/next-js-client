(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,a,s)=>{a.exports=e.r(76562)},97682,e=>{"use strict";var a=e.i(43476),s=e.i(932),t=e.i(71645),r=e.i(17255),l=e.i(18566);function i(e){let i,n,o,c,m,d,u,p,g=(0,s.c)(21),{type:h}=e,b=(0,l.useRouter)();g[0]===Symbol.for("react.memo_cache_sentinel")?(i={name:"",email:"",password:""},g[0]=i):i=g[0];let[f,x]=(0,t.useState)(i);g[1]!==f?(n=e=>{x({...f,[e.target.name]:e.target.value})},g[1]=f,g[2]=n):n=g[2];let w=n;g[3]!==f||g[4]!==b||g[5]!==h?(o=async e=>{e.preventDefault(),"register"===h&&(await fetch("/api/users/register",{method:"POST",body:JSON.stringify(f)}),alert("Registration successful!"),b.push("/login")),"login"===h&&((await (0,r.signIn)("credentials",{redirect:!1,email:f.email,password:f.password})).error?alert("Invalid credentials"):b.push("/dashboard"))},g[3]=f,g[4]=b,g[5]=h,g[6]=o):o=g[6];let y=o;g[7]!==w||g[8]!==h?(c="register"===h&&(0,a.jsx)("input",{name:"name",placeholder:"Name",onChange:w,className:"border p-2 w-full"}),g[7]=w,g[8]=h,g[9]=c):c=g[9],g[10]!==w?(m=(0,a.jsx)("input",{name:"email",placeholder:"Email",type:"email",onChange:w,className:"border p-2 w-full"}),d=(0,a.jsx)("input",{name:"password",placeholder:"Password",type:"password",onChange:w,className:"border p-2 w-full"}),g[10]=w,g[11]=m,g[12]=d):(m=g[11],d=g[12]);let j="login"===h?"Login":"Register";return g[13]!==j?(u=(0,a.jsx)("button",{className:"px-4 py-2 bg-green-600 text-white rounded",children:j}),g[13]=j,g[14]=u):u=g[14],g[15]!==y||g[16]!==c||g[17]!==m||g[18]!==d||g[19]!==u?(p=(0,a.jsxs)("form",{onSubmit:y,className:"space-y-4",children:[c,m,d,u]}),g[15]=y,g[16]=c,g[17]=m,g[18]=d,g[19]=u,g[20]=p):p=g[20],p}function n(){let e,t=(0,s.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsxs)("div",{className:"max-w-md mx-auto mt-20",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Register"}),(0,a.jsx)(i,{type:"register"})]}),t[0]=e):e=t[0],e}e.s(["default",()=>n],97682)}]);