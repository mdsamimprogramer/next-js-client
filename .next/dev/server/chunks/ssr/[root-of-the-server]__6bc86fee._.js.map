{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///C:/Projects/my-first-next-js/src/app/dashboard/add-product/page.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { useSession } from \"next-auth/react\";\r\nimport toast, { Toaster } from \"react-hot-toast\";\r\n\r\nexport default function AddProductPage() {\r\n    const { data: session, status } = useSession();\r\n    const router = useRouter();\r\n\r\n    const [form, setForm] = useState({\r\n        title: \"\",\r\n        shortDescription: \"\",\r\n        fullDescription: \"\",\r\n        price: \"\",\r\n        date: new Date().toISOString().slice(0, 10),\r\n        priority: \"\",\r\n        image: \"\",\r\n    });\r\n\r\n    useEffect(() => {\r\n        if (status === \"unauthenticated\") {\r\n            router.push(\"/auth/login\");\r\n        }\r\n    }, [status, router]);\r\n\r\n    const handleChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setForm({ ...form, [name]: value });\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        if (!form.title || !form.price) {\r\n            toast.error(\"Title and Price are required!\");\r\n            return;\r\n        }\r\n\r\n        try {\r\n            const res = await fetch(\"https://server-sage-gamma.vercel.app/products\", {\r\n                method: \"POST\",\r\n                headers: { \"Content-Type\": \"application/json\" },\r\n                body: JSON.stringify(form),\r\n            });\r\n\r\n            if (res.ok) {\r\n                toast.success(\"Product added successfully!\");\r\n                setForm({\r\n                    title: \"\",\r\n                    shortDescription: \"\",\r\n                    fullDescription: \"\",\r\n                    price: \"\",\r\n                    date: new Date().toISOString().slice(0, 10),\r\n                    priority: \"\",\r\n                    image: \"\",\r\n                });\r\n                router.push(\"/items\");\r\n            } else {\r\n                toast.error(\"Failed to add product\");\r\n            }\r\n        } catch (err) {\r\n            console.error(err);\r\n            toast.error(\"Something went wrong!\");\r\n        }\r\n    };\r\n\r\n    if (status === \"loading\") return <p>Loading...</p>;\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-green-50 flex flex-col items-center py-12 px-4 md:px-0\">\r\n            <Toaster position=\"top-right\" />\r\n            <div className=\"w-full max-w-4xl\">\r\n                <h1 className=\"text-4xl md:text-5xl font-bold mb-8 text-center text-green-800\">\r\n                    Add New Product\r\n                </h1>\r\n\r\n                <form\r\n                    onSubmit={handleSubmit}\r\n                    className=\"bg-white p-8 rounded-lg shadow-md space-y-6\"\r\n                >\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                        <input\r\n                            type=\"text\"\r\n                            name=\"title\"\r\n                            placeholder=\"Title *\"\r\n                            value={form.title}\r\n                            onChange={handleChange}\r\n                            className=\"w-full p-3 border rounded focus:outline-none focus:ring-2 focus:ring-green-400\"\r\n                            required\r\n                        />\r\n                        <input\r\n                            type=\"text\"\r\n                            name=\"shortDescription\"\r\n                            placeholder=\"Short Description\"\r\n                            value={form.shortDescription}\r\n                            onChange={handleChange}\r\n                            className=\"w-full p-3 border rounded focus:outline-none focus:ring-2 focus:ring-green-400\"\r\n                        />\r\n                        <input\r\n                            type=\"number\"\r\n                            name=\"price\"\r\n                            placeholder=\"Price *\"\r\n                            value={form.price}\r\n                            onChange={handleChange}\r\n                            className=\"w-full p-3 border rounded focus:outline-none focus:ring-2 focus:ring-green-400\"\r\n                            required\r\n                        />\r\n                        <input\r\n                            type=\"number\"\r\n                            name=\"priority\"\r\n                            placeholder=\"Priority\"\r\n                            value={form.priority}\r\n                            onChange={handleChange}\r\n                            className=\"w-full p-3 border rounded focus:outline-none focus:ring-2 focus:ring-green-400\"\r\n                        />\r\n                        <input\r\n                            type=\"date\"\r\n                            name=\"date\"\r\n                            value={form.date}\r\n                            onChange={handleChange}\r\n                            className=\"w-full p-3 border rounded focus:outline-none focus:ring-2 focus:ring-green-400\"\r\n                        />\r\n                        <input\r\n                            type=\"text\"\r\n                            name=\"image\"\r\n                            placeholder=\"Image URL (optional)\"\r\n                            value={form.image}\r\n                            onChange={handleChange}\r\n                            className=\"w-full p-3 border rounded focus:outline-none focus:ring-2 focus:ring-green-400\"\r\n                        />\r\n                    </div>\r\n\r\n                    <textarea\r\n                        name=\"fullDescription\"\r\n                        placeholder=\"Full Description\"\r\n                        value={form.fullDescription}\r\n                        onChange={handleChange}\r\n                        className=\"w-full p-3 border rounded focus:outline-none focus:ring-2 focus:ring-green-400\"\r\n                        rows={5}\r\n                    />\r\n\r\n                    <button\r\n                        type=\"submit\"\r\n                        className=\"w-full py-3 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700 transition\"\r\n                    >\r\n                        Submit\r\n                    </button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}