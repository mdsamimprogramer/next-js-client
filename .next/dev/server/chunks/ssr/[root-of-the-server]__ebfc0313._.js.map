{
  "version": 3,
  "sources": [],
  "sections": [
    {
      "offset": {
        "line": 22,
        "column": 0
      },
      "map": {
        "version": 3,
        "sources": [
          "file:///C:/Projects/my-first-next-js/src/app/dashboard/manage-products/page.jsx"
        ],
        "sourcesContent": [
          "\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { useSession } from \"next-auth/react\";\r\nimport toast, { Toaster } from \"react-hot-toast\";\r\n\r\nexport default function ManageProductsPage() {\r\n    const { data: session, status } = useSession();\r\n    const router = useRouter();\r\n    const [products, setProducts] = useState([]);\r\n\r\n    useEffect(() => {\r\n        if (status === \"unauthenticated\") {\r\n            router.push(\"/auth/login\");\r\n        }\r\n    }, [status, router]);\r\n\r\n    useEffect(() => {\r\n        fetch(\"https://server-sage-gamma.vercel.app/products\")\r\n            .then(res => res.json())\r\n            .then(data => setProducts(data));\r\n    }, []);\r\n\r\n    const handleDelete = async (id) => {\r\n        if (!confirm(\"Are you sure you want to delete this product?\")) return;\r\n        try {\r\n            const res = await fetch(`https://server-sage-gamma.vercel.app/products/${id}`, { method: \"DELETE\" });\r\n            if (res.ok) {\r\n                setProducts(products.filter(p => p._id !== id));\r\n                toast.success(\"Product deleted successfully!\");\r\n            } else {\r\n                toast.error(\"Failed to delete product\");\r\n            }\r\n        } catch (err) {\r\n            console.error(err);\r\n            toast.error(\"Something went wrong!\");\r\n        }\r\n    };\r\n\r\n    if (status === \"loading\") return <p>Loading...</p>;\r\n\r\n    return (\r\n        <div className=\"min-h-screen px-4 md:px-20 py-12 bg-green-50\">\r\n            <Toaster position=\"top-right\" />\r\n            <h1 className=\"text-4xl font-bold mb-8 text-green-800\">Manage Products</h1>\r\n\r\n            {products.length === 0 ? (\r\n                <p className=\"text-green-700\">No products available.</p>\r\n            ) : (\r\n                <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n                    {products.map(p => (\r\n                        <div\r\n                            key={p._id}\r\n                            className=\"bg-white rounded-lg shadow hover:shadow-lg transition flex flex-col\"\r\n                        >\r\n                            <div className=\"relative w-full h-48\">\r\n                                <img\r\n                                    src={p.image || \"/items/default.jpg\"}\r\n                                    alt={p.title}\r\n                                    className=\"w-full h-full object-cover rounded-t-lg\"\r\n                                />\r\n                            </div>\r\n                            <div className=\"p-4 flex-1 flex flex-col\">\r\n                                <h3 className=\"font-semibold text-lg mb-1\">{p.title}</h3>\r\n                                <p className=\"text-green-700 text-sm mb-2 line-clamp-2\">{p.shortDescription}</p>\r\n                                <p className=\"text-green-900 font-semibold mb-2\">${p.price}</p>\r\n                                <p className=\"text-gray-500 text-xs mb-2\">\r\n                                    Category: {p.category} | Priority: {p.priority} | Date: {p.dateAdded}\r\n                                </p>\r\n                                <div className=\"mt-auto flex gap-2\">\r\n                                    <button\r\n                                        className=\"flex-1 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition\"\r\n                                        onClick={() => router.push(`/items/${p._id}`)}\r\n                                    >\r\n                                        View\r\n                                    </button>\r\n                                    <button\r\n                                        className=\"flex-1 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition\"\r\n                                        onClick={() => handleDelete(p._id)}\r\n                                    >\r\n                                        Delete\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n"
        ],
        "names": [],
        "mappings": ";;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAOe,SAAS;IACpB,MAAM,EAAE,MAAM,OAAO,EAAE,MAAM,EAAE,GAAG,IAAA,4JAAU;IAC5C,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC,EAAE;IAE3C,IAAA,kNAAS,EAAC;QACN,IAAI,WAAW,mBAAmB;YAC9B,OAAO,IAAI,CAAC;QAChB;IACJ,GAAG;QAAC;QAAQ;KAAO;IAEnB,IAAA,kNAAS,EAAC;QACN,MAAM,kCACD,IAAI,CAAC,CAAA,MAAO,IAAI,IAAI,IACpB,IAAI,CAAC,CAAA,OAAQ,YAAY;IAClC,GAAG,EAAE;IAEL,MAAM,eAAe,OAAO;QACxB,IAAI,CAAC,QAAQ,kDAAkD;QAC/D,IAAI;YACA,MAAM,MAAM,MAAM,MAAM,CAAC,+BAA+B,EAAE,IAAI,EAAE;gBAAE,QAAQ;YAAS;YACnF,IAAI,IAAI,EAAE,EAAE;gBACR,YAAY,SAAS,MAAM,CAAC,CAAA,IAAK,EAAE,GAAG,KAAK;gBAC3C,kKAAK,CAAC,OAAO,CAAC;YAClB,OAAO;gBACH,kKAAK,CAAC,KAAK,CAAC;YAChB;QACJ,EAAE,OAAO,KAAK;YACV,QAAQ,KAAK,CAAC;YACd,kKAAK,CAAC,KAAK,CAAC;QAChB;IACJ;IAEA,IAAI,WAAW,WAAW,qBAAO,8OAAC;kBAAE;;;;;;IAEpC,qBACI,8OAAC;QAAI,WAAU;;0BACX,8OAAC,kKAAO;gBAAC,UAAS;;;;;;0BAClB,8OAAC;gBAAG,WAAU;0BAAyC;;;;;;YAEtD,SAAS,MAAM,KAAK,kBACjB,8OAAC;gBAAE,WAAU;0BAAiB;;;;;qCAE9B,8OAAC;gBAAI,WAAU;0BACV,SAAS,GAAG,CAAC,CAAA,kBACV,8OAAC;wBAEG,WAAU;;0CAEV,8OAAC;gCAAI,WAAU;0CACX,cAAA,8OAAC;oCACG,KAAK,EAAE,KAAK,IAAI;oCAChB,KAAK,EAAE,KAAK;oCACZ,WAAU;;;;;;;;;;;0CAGlB,8OAAC;gCAAI,WAAU;;kDACX,8OAAC;wCAAG,WAAU;kDAA8B,EAAE,KAAK;;;;;;kDACnD,8OAAC;wCAAE,WAAU;kDAA4C,EAAE,gBAAgB;;;;;;kDAC3E,8OAAC;wCAAE,WAAU;;4CAAoC;4CAAE,EAAE,KAAK;;;;;;;kDAC1D,8OAAC;wCAAE,WAAU;;4CAA6B;4CAC3B,EAAE,QAAQ;4CAAC;4CAAc,EAAE,QAAQ;4CAAC;4CAAU,EAAE,SAAS;;;;;;;kDAExE,8OAAC;wCAAI,WAAU;;0DACX,8OAAC;gDACG,WAAU;gDACV,SAAS,IAAM,OAAO,IAAI,CAAC,CAAC,OAAO,EAAE,EAAE,GAAG,EAAE;0DAC/C;;;;;;0DAGD,8OAAC;gDACG,WAAU;gDACV,SAAS,IAAM,aAAa,EAAE,GAAG;0DACpC;;;;;;;;;;;;;;;;;;;uBA3BJ,EAAE,GAAG;;;;;;;;;;;;;;;;AAsCtC"
      }
    }
  ]
}
