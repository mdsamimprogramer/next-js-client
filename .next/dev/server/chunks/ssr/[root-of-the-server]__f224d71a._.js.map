{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///C:/Projects/my-first-next-js/src/app/items/page.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport Image from \"next/image\";\r\n\r\nexport default function ItemsPage() {\r\n    const [products, setProducts] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [search, setSearch] = useState(\"\");\r\n    const [category, setCategory] = useState(\"\");\r\n    const router = useRouter();\r\n\r\n    useEffect(() => {\r\n        fetch(\"http://localhost:5000/products\")\r\n            .then((res) => res.json())\r\n            .then((data) => setProducts(data))\r\n            .catch((err) => console.error(err))\r\n            .finally(() => setLoading(false));\r\n    }, []);\r\n\r\n    // Filter products\r\n    const filteredProducts = products.filter((p) => {\r\n        const matchesSearch = p.title.toLowerCase().includes(search.toLowerCase());\r\n        const matchesCategory = category ? p.category === category : true;\r\n        return matchesSearch && matchesCategory;\r\n    });\r\n\r\n    // Unique categories\r\n    const categories = Array.from(new Set(products.map((p) => p.category)));\r\n\r\n    return (\r\n        <div className=\"px-4 mx-auto justify-center text-center md:px-20 py-12 min-h-screen\">\r\n            <h1 className=\"text-4xl font-bold text-green-800 mb-2\">Our Items</h1>\r\n            <p className=\"mb-6 text-green-700\">Browse our selection of fresh products</p>\r\n\r\n            {/* Search & Category Filter */}\r\n            <div className=\"flex mx-auto justify-center text-center flex-col md:flex-row gap-4 mb-6\">\r\n                <input\r\n                    type=\"text\"\r\n                    placeholder=\"Search items...\"\r\n                    value={search}\r\n                    onChange={(e) => setSearch(e.target.value)}\r\n                    className=\"p-2 w-full md:w-1/3 border rounded\"\r\n                />\r\n                <select\r\n                    value={category}\r\n                    onChange={(e) => setCategory(e.target.value)}\r\n                    className=\"p-2 w-full md:w-1/3 border rounded\"\r\n                >\r\n                    <option value=\"\">All Categories</option>\r\n                    {categories.map((cat, idx) => (\r\n                        <option key={`${cat}-${idx}`} value={cat}>\r\n                            {cat}\r\n                        </option>\r\n                    ))}\r\n                </select>\r\n            </div>\r\n\r\n            {/* Loading / Empty State */}\r\n            {loading && <p className=\"text-green-800\">Loading products...</p>}\r\n            {!loading && filteredProducts.length === 0 && (\r\n                <p className=\"text-green-800\">No products found.</p>\r\n            )}\r\n\r\n            {/* Grid of Products */}\r\n            <div className=\"grid sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6\">\r\n                {!loading &&\r\n                    filteredProducts.map((item) => (\r\n                        <div\r\n                            key={item._id}\r\n                            className=\"bg-white rounded-lg shadow hover:shadow-lg hover:-translate-y-1 transition cursor-pointer overflow-hidden\"\r\n                        >\r\n                            <div className=\"relative w-full h-48\">\r\n                                <Image\r\n                                    src={\r\n                                        item.image && (item.image.startsWith(\"http\") || item.image.startsWith(\"/\"))\r\n                                            ? item.image\r\n                                            : \"/items/default.jpg\"\r\n                                    }\r\n                                    alt={item.title}\r\n                                    fill\r\n                                    className=\"object-cover\"\r\n                                />\r\n                            </div>\r\n                            <div className=\"p-4\">\r\n                                <h3 className=\"text-lg font-semibold mb-1\">{item.title}</h3>\r\n                                <p className=\"text-green-700 text-sm mb-2 line-clamp-2\">\r\n                                    {item.shortDescription}\r\n                                </p>\r\n                                <p className=\"text-green-900 font-semibold mb-3\">${item.price}</p>\r\n                                <button\r\n                                    className=\"w-full py-2 bg-green-600 text-white rounded hover:bg-green-700 transition\"\r\n                                    onClick={() => router.push(`/items/${item._id}`)}\r\n                                >\r\n                                    Details\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMe,SAAS;IACpB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC,EAAE;IAC3C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAC;IACrC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IACzC,MAAM,SAAS,IAAA,+IAAS;IAExB,IAAA,kNAAS,EAAC;QACN,MAAM,kCACD,IAAI,CAAC,CAAC,MAAQ,IAAI,IAAI,IACtB,IAAI,CAAC,CAAC,OAAS,YAAY,OAC3B,KAAK,CAAC,CAAC,MAAQ,QAAQ,KAAK,CAAC,MAC7B,OAAO,CAAC,IAAM,WAAW;IAClC,GAAG,EAAE;IAEL,kBAAkB;IAClB,MAAM,mBAAmB,SAAS,MAAM,CAAC,CAAC;QACtC,MAAM,gBAAgB,EAAE,KAAK,CAAC,WAAW,GAAG,QAAQ,CAAC,OAAO,WAAW;QACvE,MAAM,kBAAkB,WAAW,EAAE,QAAQ,KAAK,WAAW;QAC7D,OAAO,iBAAiB;IAC5B;IAEA,oBAAoB;IACpB,MAAM,aAAa,MAAM,IAAI,CAAC,IAAI,IAAI,SAAS,GAAG,CAAC,CAAC,IAAM,EAAE,QAAQ;IAEpE,qBACI,8OAAC;QAAI,WAAU;;0BACX,8OAAC;gBAAG,WAAU;0BAAyC;;;;;;0BACvD,8OAAC;gBAAE,WAAU;0BAAsB;;;;;;0BAGnC,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBACG,MAAK;wBACL,aAAY;wBACZ,OAAO;wBACP,UAAU,CAAC,IAAM,UAAU,EAAE,MAAM,CAAC,KAAK;wBACzC,WAAU;;;;;;kCAEd,8OAAC;wBACG,OAAO;wBACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;wBAC3C,WAAU;;0CAEV,8OAAC;gCAAO,OAAM;0CAAG;;;;;;4BAChB,WAAW,GAAG,CAAC,CAAC,KAAK,oBAClB,8OAAC;oCAA6B,OAAO;8CAChC;mCADQ,GAAG,IAAI,CAAC,EAAE,KAAK;;;;;;;;;;;;;;;;;YAQvC,yBAAW,8OAAC;gBAAE,WAAU;0BAAiB;;;;;;YACzC,CAAC,WAAW,iBAAiB,MAAM,KAAK,mBACrC,8OAAC;gBAAE,WAAU;0BAAiB;;;;;;0BAIlC,8OAAC;gBAAI,WAAU;0BACV,CAAC,WACE,iBAAiB,GAAG,CAAC,CAAC,qBAClB,8OAAC;wBAEG,WAAU;;0CAEV,8OAAC;gCAAI,WAAU;0CACX,cAAA,8OAAC,wIAAK;oCACF,KACI,KAAK,KAAK,IAAI,CAAC,KAAK,KAAK,CAAC,UAAU,CAAC,WAAW,KAAK,KAAK,CAAC,UAAU,CAAC,IAAI,IACpE,KAAK,KAAK,GACV;oCAEV,KAAK,KAAK,KAAK;oCACf,IAAI;oCACJ,WAAU;;;;;;;;;;;0CAGlB,8OAAC;gCAAI,WAAU;;kDACX,8OAAC;wCAAG,WAAU;kDAA8B,KAAK,KAAK;;;;;;kDACtD,8OAAC;wCAAE,WAAU;kDACR,KAAK,gBAAgB;;;;;;kDAE1B,8OAAC;wCAAE,WAAU;;4CAAoC;4CAAE,KAAK,KAAK;;;;;;;kDAC7D,8OAAC;wCACG,WAAU;wCACV,SAAS,IAAM,OAAO,IAAI,CAAC,CAAC,OAAO,EAAE,KAAK,GAAG,EAAE;kDAClD;;;;;;;;;;;;;uBAxBA,KAAK,GAAG;;;;;;;;;;;;;;;;AAiCzC"}}]
}